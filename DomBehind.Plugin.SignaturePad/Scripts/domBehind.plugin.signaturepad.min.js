var __extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),DomBehind;(function(n){var i,t;(function(n){n[n.Png=0]="Png";n[n.Jpeg=1]="Jpeg";n[n.Svg=2]="Svg"})(i=n.SignSaveImage||(n.SignSaveImage={}));t=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.SetOption=function(n){this.Option=$.extend(!0,this.DefaultOption,n)},Object.defineProperty(t.prototype,"DefaultOption",{get:function(){return{image:i.Png,color:"rgb(255,255,255)",showClear:!0,clearCaption:" Clear",clearStyle:"fa fa-remove",showUndo:!0,undoCaption:" Undo",undoStyle:"fa fa-undo",showDownload:!0,downloadCaption:" Download",downloadStyle:"fa fa-download",saveCaption:" Save",saveStyle:"fa fa-save"}},enumerable:!0,configurable:!0}),t.prototype.Ensure=function(){var n=this,o,r,u,t,f,e,i;if(this.Identity="id-"+NewUid(),o=$('<canvas id="'+this.Identity+'" class="SignCanvas" style="width:100%;height:calc(100% - 30px)"><\/canvas>'),r=o[0],this.SignaturePad=new SignaturePad(r),u=$('<div style="height:30px"><\/div>'),t=$('<div class="pull-right"><\/div>'),u.append(t),this.Option.showClear){f=$('<a class="signClear" style="margin:0 4px" href="javascript:void(0);"><span class="'+this.Option.clearStyle+'"><\/span> '+this.Option.clearCaption+"<\/a>");f.on("click",function(){n.SignaturePad.clear()});t.append(f)}if(this.Option.showUndo){e=$('<a class="signUndo" style="margin:0 4px" href="javascript:void(0);"><span class="'+this.Option.undoStyle+'"><\/span> '+this.Option.undoCaption+"<\/a>");e.on("click",function(){});t.append(e)}if(this.Option.saveAction){i=$('<a class="signSave" style="margin:0 4px" href="javascript:void(0);"><span class="'+this.Option.undoStyle+'"><\/span> '+this.Option.undoCaption+"<\/a>");i.on("click",function(){if(n.SignaturePad.isEmpty())alert("Please provide a signature first.");else var t=n.SignaturePad.toDataURL()});t.append(i)}if(this.Option.showDownload){i=$('<a class="signDownload" style="margin:0 4px" href="javascript:void(0);"><span class="'+this.Option.saveStyle+'"><\/span> '+this.Option.saveCaption+"<\/a>");i.on("click",function(){if(n.SignaturePad.isEmpty())alert("Please provide a signature first.");else var t=n.SignaturePad.toDataURL(),i=n.dataURLToBlob(t)});t.append(i)}this.Element.append(r);this.Element.append(u)},t.prototype.dataURLToBlob=function(n){for(var i=n.split(";base64,"),e=i[0].split(":")[1],r=window.atob(i[1]),u=r.length,f=new Uint8Array(u),t=0;t<u;++t)f[t]=r.charCodeAt(t);return new Blob([f],{type:e})},t}(n.Data.BindingBehavior);n.Sign=t;n.BindingBehaviorBuilder.prototype.BuildSign=function(n){var i=this,r=i.Add(new t);return r.SetOption(n),i}})(DomBehind||(DomBehind={}));
//# sourceMappingURL=domBehind.plugin.signaturepad.min.js.map